<h1>Ferrari Career Agent</h1>
    <div class="chat-container" id="chatOutput">
      <div class="bot-message">Test drive Christopher’s qualifications! Ask about skills, experiences, career goals, or professional attitudes. Want to know how Christopher would respond to a workplace challenge?</div>
    </div>
    <div class="input-container">
      <input type="text" class="chat-input" id="chatInput" placeholder="Ask about Christopher's skills, experiences, goals, or attitudes">
      <button class="button" onclick="sendMessage()">Send</button>
    </div>
    <a href="diagnostics.html" class="button">View Full Resume</a>
    <a href="index.html" class="button">Back to Home</a>
  </div>
  <script>
    async function fetchData(file) {
      try {
        const response = await fetch(file);
        if (!response.ok) throw new Error('Failed to load data');
        return await response.json();
      } catch (error) {
        console.error('Error:', error);
        return null;
      }
    }

    async function sendMessage() {
      const input = document.getElementById('chatInput');
      const question = input.value.trim().toLowerCase();
      if (!question) return;

      const chatOutput = document.getElementById('chatOutput');
      chatOutput.innerHTML += `<div class="chat-message user-message">${question}</div>`;
      input.value = '';

      const resumeData = await fetchData('resumeData.json');
      const personalInfo = await fetchData('personalInfo.json');
      let response = 'To keep this professional, I’m tuned to answer about Christopher’s skills, experiences, career goals, or professional attitudes. Try one of those topics!';

      if (resumeData && personalInfo) {
        if (question.includes('skill')) {
          response = `Christopher’s skills include: ${resumeData.skills.join(', ')}.`;
        } else if (question.includes('experience') || question.includes('work')) {
          const exp = resumeData.experiences[0];
          response = `At ${exp.company}, Christopher served as ${exp.jobTitle} (${exp.dates}), achieving: ${exp.achievements.join('; ')}.`;
        } else if (question.includes('goal')) {
          response = `Christopher’s career goal: ${personalInfo.careerGoals}`;
        } else if (question.includes('attitude') || question.includes('respond') || question.includes('deadline') || question.includes('conflict') || question.includes('client')) {
          const attitude = personalInfo.professionalAttitudes.find(a => question.includes(a.scenario)) || personalInfo.professionalAttitudes[0];
          response = attitude.response;
        }
      }

      chatOutput.innerHTML += `<div class="chat-message bot-message">${response}</div>`;
      chatOutput.scrollTop = chatOutput.scrollHeight;
    }

    document.getElementById('chatInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') sendMessage();
    });
  </script>
</body>
</html>